<!DOCTYPE html>
<html>

<head>
    <title>Geolocation with Google Maps</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB-ykqvBfiFzqHZThbJSEJz-qDWaB3PRu4"></script>
    <script>
        var map;
        var infoWindow;

        function initMap() {
    map = new google.maps.Map(document.getElementById('map'), {
        center: { lat: 7.2931, lng: 80.6350 },
        zoom: 100
    });
    infoWindow = new google.maps.InfoWindow;
}


        function getLocation() {
            // Try HTML5 geolocation.
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    var pos = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };

                    infoWindow.setPosition(pos);
                    infoWindow.setContent('Location found.');
                    infoWindow.open(map);
                    map.setCenter(pos);
                }, function (error) {
                    showError(error);
                });
            } else {
                // Browser doesn't support Geolocation
                showError({ code: 0 });
            }
        }

        function showError(error) {
            var errorMessage;
            switch (error.code) {
                case error.PERMISSION_DENIED:
                    errorMessage = "User denied the request for Geolocation.";
                    break;
                case error.POSITION_UNAVAILABLE:
                    errorMessage = "Location information is unavailable.";
                    break;
                case error.TIMEOUT:
                    errorMessage = "The request to get user location timed out.";
                    break;
                case error.UNKNOWN_ERROR:
                    errorMessage = "An unknown error occurred.";
                    break;
                default:
                    errorMessage = "Geolocation is not supported by this browser.";
            }
            document.getElementById("location").innerHTML = errorMessage;
        }
    </script>
</head>

<body onload="initMap()">
    <div id="map" style="height: 500px; width: 100%;"></div>
    <button onclick="getLocation()">Get Location</button>
    <div id="location"></div>
</body>

</html>